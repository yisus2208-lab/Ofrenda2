<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ofrenda</title>
</head>
<body>
   
<canvas id="myCanvas">
    <!--El elemento HTML canvas se puede utilizar para dibujar gráficos a través de
        secuencias de comandos (por lo general JavaScript ).-->
</canvas>
 
<!-- Aquí va todo el código de three.js -->
<!-- script type="importmap" importa las librerías necesarias para three.js-->
 <script src="./font/Halloweendy_Regular.js"></script>
<script type="importmap">

    {
        "imports":{
            "three": "./js/three.module.js",
            "three/OrbitControls": "./js/OrbitControls.js"
        }
}

</script>
<script type="module">
//🗃️🗃️ Mandar llamar a la librería
    import * as THREE from 'three';
    import {OrbitControls} from 'three/OrbitControls';
    console.log(OrbitControls);
    import {RoundedBoxGeometry} from "./js/RoundedBoxGeometry.js"
    import {TextGeometry} from "./js/TextGeometry.js";
    import {FontLoader} from "./js/FontLoader.js";

 import calavera from"./objetos/calavera.js"
 import botella from"./objetos/botella.js"
 import Vela from"./objetos/Vela.js"
 import vela2 from"./objetos/vela2.js"
 import calavera1 from"./objetos/calavera1.js"
 import calavera2 from"./objetos/calavera2.js"
 import calavera3 from"./objetos/calavera3.js"
import papel from"./objetos/papel.js"
import papel2 from"./objetos/papel2.js"
import cigarros from"./objetos/cigarros.js"
import pan from"./objetos/pan.js"
import pan2 from"./objetos/pan2.js"
import cuadro from"./objetos/cuadro.js"
import copal from"./objetos/copal.js"
import taza from"./objetos/taza.js"
//🕹️🕹️ Renderer - Realiza una conexión entre el código y el canvas
    var renderer = new THREE.WebGLRenderer({
    canvas: document.getElementById('myCanvas'), antialias: true,
    });
    renderer.setPixelRatio(window.decivePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000);
 
 
// 🎬 Creando nueva escena - Es el espacio donde se colocan los objetos
    var scene = new THREE.Scene();
 
//🎥🎥 Agregar una cámara de perspectiva
    var camera = new THREE.PerspectiveCamera(70,window.innerWidth / window.innerHeight,0.1,2000
      );
    scene.add(camera);
 
    //Settings de la cámara
    camera.position.set(0, 4, 10);
 
    // Añadiendo los OrbitControls
    var controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
 
    //codigo para realizar objetos 
    var loader = new THREE.TextureLoader();
    var bgTexture = loader.load('./image/fondo5.jpg');
    scene.background = bgTexture;

 
    var helper = new THREE.PolarGridHelper(20,16,20,64);
    //scene.add (helper);
 

 
// Espacio para colocar los objetos
//luces
var light1 = new THREE.DirectionalLight(0xffffff,2);
light1.position.set(50,50,50);
scene.add(light1);

//Base 
 var geometry01 = new THREE.BoxGeometry(370,0.5,370);
 var material01 = new THREE.MeshBasicMaterial({color:0x4B371C , side: THREE.DoubleSide });
var mesh01 = new THREE.Mesh(geometry01,material01);
scene.add(mesh01);
mesh01.receiveShadow = true;
//Tapete
var geometry02 = new THREE.PlaneGeometry (226,226,8,8);
var texture02 = new THREE.TextureLoader(). load ("./image/tapete.jpeg"); 
 var material02 = new THREE.MeshLambertMaterial({map:texture02});
var mesh02 = new THREE.Mesh(geometry02,material02);
scene.add(mesh02);
mesh02.position.set(0,1,72);
mesh02.rotation.set(-1.57,0,0);
//Muro 1
var geometry03 = new THREE.BoxGeometry(370,270,1,1,1,1);
  var material03 = new THREE.MeshLambertMaterial({color:0xCD853F, side: THREE.DoubleSide});
 var mesh03 = new THREE.Mesh(geometry03,material03);
mesh03.position.set(0,135,-185);
 scene.add(mesh03);
 mesh03.rotation.set(0,0,0);
//Escalera
var geometry04 = new THREE.BoxGeometry(315,80,145,1,1,1);
 var material04 = new THREE.MeshLambertMaterial({color:0xff00ff, side: THREE.DoubleSide});
 var mesh04 = new THREE.Mesh(geometry04,material04);
mesh04.position.set(0,40.3,-113);
 scene.add(mesh04);
 //Escalera 2 
var geometry05 = new THREE.BoxGeometry(220,73,100,1,1,1);
 var material05 = new THREE.MeshLambertMaterial({color:0x990099, side: THREE.DoubleSide});
 var mesh05 = new THREE.Mesh(geometry05,material05);
mesh05.position.set(0,117,-135);
 scene.add(mesh05);
 /////////Calaca
 var escenario01 = calavera({x:0,y:0,z:0});//Posicion del escenario 01
scene.add(escenario01);

 escenario01.position.set(120,65,-70);
 escenario01.scale.set(1,1,1);

//BOTELLA
  var escenario02 = botella({x:0,y:0,z:0});//Posicion del escenario 02
scene.add(escenario02);

 escenario02.position.set(40,135,-105);
 escenario02.scale.set(1.2,1.2,1.2);
 //Vela
  var escenario03 = Vela({x:0,y:0,z:0});//Posicion del escenario 03
scene.add(escenario03);

 escenario03.position.set(132,80,-145);
 escenario03.scale.set(9,9,9);

 /////////Calaca 1
 var escenario04 = calavera1({x:0,y:0,z:0});//Posicion del escenario 04
scene.add(escenario04);

 escenario04.position.set(-150,65,-70);
 escenario04.scale.set(1,1,1)
//Papel 1
var escenario05 = papel({x:0,y:0,z:0});//Posicion del escenario 05
scene.add(escenario05);

 escenario05.position.set(0,1,0.2);
 escenario05.scale.set(1,1,1)
//Papel 2
var escenario06 = papel2({x:0,y:0,z:0});//Posicion del escenario 06
scene.add(escenario06);

 escenario06.position.set(0,90,-55);
 escenario06.scale.set(.70,.70,.70)
//Cigarros
var escenario07 = cigarros({x:0,y:0,z:0});//Posicion del escenario 07
scene.add(escenario07);
escenario07.rotation.set(0,2.355,0);
 escenario07.position.set(10,138,-95);
 escenario07.scale.set(.90,.90,.90)
//pan de muerto
var escenario08 = pan({x:0,y:0,z:0});//Posicion del escenario 08
scene.add(escenario08);

 escenario08.position.set(-40,153,-110);
 escenario08.scale.set(10,10,10)
//Pan 2
var escenario09 = pan2({x:0,y:0,z:0});//Posicion del escenario 09
scene.add(escenario09);

 escenario09.position.set(0,80,-65);
 escenario09.scale.set(10,10,10)
//Calaca 2
var escenario10 = calavera2({x:0,y:0,z:0});//Posicion del escenario 10
scene.add(escenario10);

 escenario10.position.set(-100,139,-105);
 escenario10.scale.set(1,1,1)
//Cuadroo
var escenario11 = cuadro({x:0,y:0,z:0});//Posicion del escenario 11
scene.add(escenario11);

 escenario11.position.set(0,146,-145);
 escenario11.scale.set(1,1,1)
//Calaca 3
var escenario12 = calavera2({x:0,y:0,z:0});//Posicion del escenario 10
scene.add(escenario12);

 escenario12.position.set(70,139,-105);
 escenario12.scale.set(1,1,1)
 //Copal
 var escenario13 = copal({x:0,y:0,z:0});//Posicion del escenario 10
scene.add(escenario13);

 escenario13.position.set(-75,90,-65);
 escenario13.scale.set(5,5,5)
//Vela 2
var escenario14 = vela2({x:0,y:0,z:0});//Posicion del escenario 03
scene.add(escenario14);

 escenario14.position.set(-132,80,-145);
 escenario14.scale.set(9,9,9);
//Taza 
var escenario15 = taza({x:0,y:0,z:0});//Posicion del escenario 03
scene.add(escenario15);

 escenario15.position.set(60,78,-65);
 escenario15.scale.set(5,5,5);

 //Texto 
var loader = new FontLoader();

var font = loader.parse(fontJSON8);
var geometry1 = new TextGeometry('DIA DE MUERTOS', {
    font: font,
    size: 30,
    height: 2,
});
geometry1.center();

var material1 = new THREE.MeshLambertMaterial({
    color:0x008F39,
    emissive:0x008F39,
    shading:THREE.FlatShading,
});
var texto = new THREE.Mesh(geometry1,material1);
scene.add(texto);
texto.position.set(0,250,-180);
texto.receiveShadow = true;
texto.castShadow = true;
//🎰🎰Rendering y animación
    requestAnimationFrame(render);
    function render() {
 
    //🪄🪄 Animación -
    //mesh02.rotation.z +=0.01;
    //mesh03.rotation.z -=0.01;
 
    //🎮🎮Actualización del OrbitControls para generar la suavidad de movimiento
    controls.update();
 
    //Llamado para renderizar y volver a llamar a la misma función (render)
    renderer.render(scene, camera);
    requestAnimationFrame(render);
    }
</script>
</body>
</html>
 
 